{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nconst useInfiniteScroll = (fetchCallback) => {\n  const [isFetching, setIsFetching] = useState(false);\n\n  useEffect(() => {\n    if (!isFetching) return;\n    fetchCallback();\n  }, [isFetching]);\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  function handleScroll() {\n    const offsetHeight = document.documentElement.offsetHeight\n    const innerHeight = window.innerHeight\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0\n\n    if (isFetching || innerHeight + scrollTop !== offsetHeight)\n      return;\n\n    setIsFetching(true);\n  }\n\n  return [isFetching, setIsFetching];\n}\n\nexport default useInfiniteScroll;\n"],"names":["useInfiniteScroll","fetchCallback","useState","isFetching","setIsFetching","useEffect","window","addEventListener","handleScroll","removeEventListener","offsetHeight","document","documentElement","innerHeight","scrollTop","pageYOffset","body"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD,EAAmB;kBACPC,QAAQ,CAAC,KAAD,CADD;;MACpCC,UADoC;MACxBC,aADwB;;EAG3CC,SAAS,CAAC,YAAM;QACV,CAACF,UAAL,EAAiB;IACjBF,aAAa;GAFN,EAGN,CAACE,UAAD,CAHM,CAAT;EAKAE,SAAS,CAAC,YAAM;IACdC,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,YAAlC;WACO;aAAMF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,YAArC,CAAN;KAAP;GAFO,EAGN,EAHM,CAAT;;WAKSA,YAAT,GAAwB;QAChBE,YAAY,GAAGC,QAAQ,CAACC,eAAT,CAAyBF,YAA9C;QACMG,WAAW,GAAGP,MAAM,CAACO,WAA3B;QACMC,SAAS,GAAGR,MAAM,CAACS,WAAP,IAAsBJ,QAAQ,CAACC,eAAT,CAAyBE,SAA/C,IAA4DH,QAAQ,CAACK,IAAT,CAAcF,SAA1E,IAAuF,CAAzG;QAEIX,UAAU,IAAIU,WAAW,GAAGC,SAAd,KAA4BJ,YAA9C,EACE;IAEFN,aAAa,CAAC,IAAD,CAAb;;;SAGK,CAACD,UAAD,EAAaC,aAAb,CAAP;CAxBF;;;;"}